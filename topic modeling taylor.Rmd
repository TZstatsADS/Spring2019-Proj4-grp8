---
title: "R Notebook"
output: html_notebook
---


```{r version 3}

project_path = "~/Desktop/GR5243 Applied Data Science/Project 4/Spring2019-Proj4-grp8-1"
true_path = "/data/ground_truth/"
ground_truth = list.files(path=paste0(project_path,true_path), pattern="*.txt", full.names=TRUE, recursive=FALSE)

load(paste0(project_path,"/output/dic_top_words.Rdata"))
top_words


topicModelling <- function(files){
  
  textInFiles <- lapply(files, function (filename) read.table(filename, sep="\t", stringsAsFactors = F))
  textInFiles <- lapply(textInFiles, function(x) x$V1)
  
  a <- Corpus(VectorSource(textInFiles), readerControl = list(language="lat")) #specifies the exact folder where my text file(s) is for analysis with tm.
  a <- tm_map(a, tolower)
  a <- tm_map(a , stripWhitespace)
  a <- tm_map(a, removeWords, stopwords("en"))
  # warnings are not relevant: https://stackoverflow.com/questions/51081415/transformation-drops-documents-error-in-r
  
  adtm <- DocumentTermMatrix(a)
  l <- LDA(adtm, k = 30, control = list(seed = 1234))
  
  save(l, file = "../output/LDA.RData")
  return(l)
}

```
